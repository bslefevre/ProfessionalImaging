<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Test Bezoeker Aantal</title>
    <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
</head>
<body>
    <span id="zaterdag"><span id="zaterdagColor"></span><span id="zaterdagText"></span></span>
    <span id="zondag"><span id="zondagColor"></span><span id="zondagText"></span></span>
    <span id="maandag"><span id="maandagColor"></span><span id="maandagText"></span></span>
    
    <style>
        #zaterdag, #zondag, #maandag { 
            float: right; 
        }
        #zaterdagColor, #zondagColor, #maandagColor {
            margin-top: 3px;
            background-color: green;
            height: 14px;
            width: 14px;
            -webkit-border-radius: 7px;
            -moz-border-radius: 7px;
            position: absolute;
        }
        #zaterdagText, #zondagText, #maandagText {
            padding-top: 5px;
            margin-left: 20px;
        }
    </style>

    <script type="text/javascript">
        $(function () {
            $.ajax({
                type: 'GET',
                url: 'http://pandora.synology.me:2015/rest/getAttendeeCount',
                xhrFields: {
                    withCredentials: false
                },
                data: null,
                dataType: 'json',
                success: function (data) {
                    setBackgroundColors(data);
                }
            });
        });

        function setBackgroundColors(amountOfAttendee) {
            $('#zaterdagText').text(getTextWithAmount(amountOfAttendee.Zaterdag));
            $('#zaterdagColor').css({ backgroundColor: getColorWithAmount(amountOfAttendee.Zaterdag) });
            $('#zondagText').text(getTextWithAmount(amountOfAttendee.Zondag));
            $('#zondagColor').css({ backgroundColor: getColorWithAmount(amountOfAttendee.Zondag) });
            $('#maandagText').text(getTextWithAmount(amountOfAttendee.Maandag));
            $('#maandagColor').css({ backgroundColor: getColorWithAmount(amountOfAttendee.Maandag) });
        };

        function getColorWithAmount(amount) {
            if (amount > 1) return 'red';
            if (amount > 0) return 'orange';
            return 'green';
        }

        function getTextWithAmount(amount) {
            if (amount > 1) return 'Wij raden u aan om een andere dag te gaan vanwege de verwachte drukte.';
            if (amount > 0) return 'Kans op een drukte';
            return '';
        }
    </script>
</body>
</html>